<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>プログラムページ</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>①ボタンを押すとLEDが順番に光る回路</h1>
        <div class="caption-box">
            <pre><code>
                int led1Pin = 4;          
                int led2Pin = 5;          
                int led3Pin = 6;  
                int buttonApin = 7;       // カウントアップ
                int buttonBpin = 8;       // カウントダウン
                int buttonCpin = 9;       // リセット

                int count = 0;

                bool buttonAWasPressed = false;
                bool buttonBWasPressed = false;
                bool buttonCWasPressed = false;

                void setup() {
                pinMode(led1Pin, OUTPUT);
                pinMode(led2Pin, OUTPUT);
                pinMode(led3Pin, OUTPUT);
                pinMode(buttonApin, INPUT_PULLUP);
                pinMode(buttonBpin, INPUT_PULLUP);
                pinMode(buttonCpin, INPUT_PULLUP);
                }

                void loop() {
                bool buttonAState = digitalRead(buttonApin) == LOW;
                bool buttonBState = digitalRead(buttonBpin) == LOW;
                bool buttonCState = digitalRead(buttonCpin) == LOW;

                // カウントアップ
                if (buttonAState && !buttonAWasPressed) {
                    count++;
                    buttonAWasPressed = true;
                }
                if (!buttonAState) buttonAWasPressed = false;

                // カウントダウン
                if (buttonBState && !buttonBWasPressed) {
                    if (count > 0) count--;
                    buttonBWasPressed = true;
                }
                if (!buttonBState) buttonBWasPressed = false;

                // カウントリセット
                if (buttonCState && !buttonCWasPressed) {
                    count = 0;
                    buttonCWasPressed = true;
                }
                if (!buttonCState) buttonCWasPressed = false;

                // LED1: カウントが1, 2, 3のとき点灯
                if (count >= 1 && count <= 3) {
                digitalWrite(led1Pin, HIGH);
                } else {
                digitalWrite(led1Pin, LOW);
                }

                // LED2: カウントが2, 3のとき点灯
                if (count == 2 || count == 3) {
                digitalWrite(led2Pin, HIGH);
                } else {
                digitalWrite(led2Pin, LOW);
                }

                // LED3: カウントが3のときだけ点灯
                if (count == 3) {
                digitalWrite(led3Pin, HIGH);
                } else {
                digitalWrite(led3Pin, LOW);
                }
                }


            </code></pre>
        </div>

        <button onclick="location.href='app.html'">戻る</button>
    </body>
</html>