<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <title>プログラムページ</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>Arduinoを使用したプログラムの総覧です</h1>
        <p>①ボタンを押すとLEDが順番に光る回路</p>
        <div class="caption-box">
            <pre><code>
                int ledPin = 5;             // LED ピン
                int buttonApin = 9;         // カウントアップボタン
                int buttonBpin = 8;         // カウントダウンボタン
                int buttonCpin = 7;         // カウントリセットボタン

                int count = 0;              // カウント変数
                const int targetCount = 5;  // LEDを点灯させるカウントのしきい値

                bool buttonAWasPressed = false;
                bool buttonBWasPressed = false;
                bool buttonCWasPressed = false;

                void setup() {
                pinMode(ledPin, OUTPUT);
                pinMode(buttonApin, INPUT_PULLUP);
                pinMode(buttonBpin, INPUT_PULLUP);
                pinMode(buttonCpin, INPUT_PULLUP);
                }

                void loop() {
                bool buttonAState = digitalRead(buttonApin) == LOW;
                bool buttonBState = digitalRead(buttonBpin) == LOW;
                bool buttonCState = digitalRead(buttonCpin) == LOW;

                if (buttonAState && !buttonAWasPressed) {
                    count++;
                    buttonAWasPressed = true;
                }
                if (!buttonAState) buttonAWasPressed = false;

                if (buttonBState && !buttonBWasPressed) {
                    if (count > 0) count--;
                    buttonBWasPressed = true;
                }
                if (!buttonBState) buttonBWasPressed = false;

                if (buttonCState && !buttonCWasPressed) {
                    count = 0;
                    buttonCWasPressed = true;
                }
                if (!buttonCState) buttonCWasPressed = false;

                if (count >= targetCount) {
                    digitalWrite(ledPin, HIGH);
                } else {
                    digitalWrite(ledPin, LOW);
                }

                delay(20);
                }
                </code></pre>
        </div>
        <p>②LED応用回路その1</p>
        <div class="caption-box">
            <pre><code>
                int led1Pin = 11;          
                int led2Pin = 12;          
                int led3Pin = 13;  
                int led4Pin = 5;          
                int led5Pin = 6;          
                int led6Pin = 7;  
                int buttonApin = 4;       // カウントアップ1
                int buttonBpin = 3;       // リセット
                int buttonCpin = 2;       // カウントアップ2


                int count1 = 0;
                int count2 = 0;
                const int MAX_COUNT = 3;


                bool buttonAWasPressed = false;
                bool buttonBWasPressed = false;
                bool buttonCWasPressed = false;

                void setup() {
                pinMode(led1Pin, OUTPUT);
                pinMode(led2Pin, OUTPUT);
                pinMode(led3Pin, OUTPUT);
                pinMode(led4Pin, OUTPUT);
                pinMode(led5Pin, OUTPUT);
                pinMode(led6Pin, OUTPUT);
                pinMode(buttonApin, INPUT_PULLUP);
                pinMode(buttonBpin, INPUT_PULLUP);
                pinMode(buttonCpin, INPUT_PULLUP);
                }

                void loop() {
                bool buttonAState = digitalRead(buttonApin) == LOW;
                bool buttonBState = digitalRead(buttonBpin) == LOW;
                bool buttonCState = digitalRead(buttonCpin) == LOW;

                // カウントアップ1
                if (buttonAState && !buttonAWasPressed) {
                    if (count2 < MAX_COUNT && count1 < MAX_COUNT) {
                    count1++;
                    }
                    buttonAWasPressed = true;
                }
                if (!buttonAState) buttonAWasPressed = false;

                // カウントアップ2
                if (buttonCState && !buttonCWasPressed) {
                    if (count1 < MAX_COUNT && count2 < MAX_COUNT) {
                    count2++;
                }
                    buttonCWasPressed = true;
                }
                if (!buttonCState) buttonCWasPressed = false;

                // カウントリセット
                if (buttonBState && !buttonBWasPressed) {
                    count1 = 0;
                    count2 = 0;
                    buttonBWasPressed = true;
                }
                if (!buttonBState) buttonBWasPressed = false;

                // LED1: カウントが1, 2, 3のとき点灯
                if (count1 >= 1 && count1 <= 3) {
                digitalWrite(led1Pin, HIGH);
                } else {
                digitalWrite(led1Pin, LOW);
                }

                // LED2: カウントが2, 3のとき点灯
                if (count1 == 2 || count1 == 3) {
                digitalWrite(led2Pin, HIGH);
                } else {
                digitalWrite(led2Pin, LOW);
                }

                // LED3: カウントが3のときだけ点灯
                if (count1 == 3) {
                digitalWrite(led3Pin, HIGH);
                } else {
                digitalWrite(led3Pin, LOW);
                }

                // LED4: カウントが1, 2, 3のとき点灯
                if (count2 >= 1 && count2 <= 3) {
                digitalWrite(led4Pin, HIGH);
                } else {
                digitalWrite(led4Pin, LOW);
                }

                // LED5: カウントが2, 3のとき点灯
                if (count2 == 2 || count2 == 3) {
                digitalWrite(led5Pin, HIGH);
                } else {
                digitalWrite(led5Pin, LOW);
                }

                // LED6: カウントが3のときだけ点灯
                if (count2 == 3) {
                digitalWrite(led6Pin, HIGH);
                } else {
                digitalWrite(led6Pin, LOW);
                }
                }

            </code></pre>
        </div>

        <p>③スイッチを押すとドレミの音が出る回路</p>
        <div class="caption-box">
            <pre><code>
                #define TONE_USE_INT
                #define TONE_PITCH 440
                #include <TonePitch.h>

                //スイッチのピン番号
                #define SW_C4 2   //ド
                #define SW_D4 3   //レ
                #define SW_E4 4   //ミ
                #define SW_F4 5   //ファ
                #define SW_G4 6   //ソ
                #define SW_A4 7   //ラ
                #define SW_B4 8   //シ
                #define SW_C5 9   //（高い）ド

                #define BUZZ_PIN 10 //ブザーのピン

                void setup() {
                pinMode( SW_C4, INPUT_PULLUP );    //入力ピンに設定
                pinMode( SW_D4, INPUT_PULLUP );    //入力ピンに設定
                pinMode( SW_E4, INPUT_PULLUP );    //入力ピンに設定
                pinMode( SW_F4, INPUT_PULLUP );    //入力ピンに設定
                pinMode( SW_G4, INPUT_PULLUP );    //入力ピンに設定
                pinMode( SW_A4, INPUT_PULLUP );    //入力ピンに設定
                pinMode( SW_B4, INPUT_PULLUP );    //入力ピンに設定
                pinMode( SW_C5, INPUT_PULLUP );    //入力ピンに設定
                pinMode( BUZZ_PIN, OUTPUT );    //出力ピンに設定
                }

                void loop() {
                if(digitalRead(SW_C4)==LOW){  //ドが押された時
                    buzzSound(NOTE_C4);
                }
                else if(digitalRead(SW_D4)==LOW){ //レが押された時
                    buzzSound(NOTE_D4);
                }
                else if(digitalRead(SW_E4)==LOW){ //ミが押された時
                    buzzSound(NOTE_E4);
                }
                else if(digitalRead(SW_F4)==LOW){ //ファが押された時
                    buzzSound(NOTE_F4);
                }
                else if(digitalRead(SW_G4)==LOW){ //ソが押された時
                    buzzSound(NOTE_G4);
                }
                else if(digitalRead(SW_A4)==LOW){ //ラが押された時
                    buzzSound(NOTE_A4);
                }
                else if(digitalRead(SW_B4)==LOW){ //シが押された時
                    buzzSound(NOTE_B4);
                }
                else if(digitalRead(SW_C5)==LOW){ //高いドが押された時
                    buzzSound(NOTE_C5);
                }
                else{   //何も押されてない時
                    noTone(BUZZ_PIN);   //消音
                }
                }

                //音を鳴らす関数
                void buzzSound(int frequency){
                tone(BUZZ_PIN, frequency);  //音を鳴らす
                delay(50);
                }
            </code></pre>
        </div>
        <p>④２つのモーターを制御する回路</p>
        <div class="caption-box">
            <pre><code>
                // ====== モーターAのピン設定 ======
                #define ENA 5
                #define DIRA1 3
                #define DIRB1 4

                // ====== モーターBのピン設定 ======
                #define ENB 6
                #define DIRA2 8
                #define DIRB2 9

                // ====== ボタン設定 ======
                // モーターA
                #define BTN_DIR_A 7  // 方向切替
                #define BTN_PWR_A 10 // ON/OFF切替
                // モーターB
                #define BTN_DIR_B 11 // 方向切替
                #define BTN_PWR_B 12 // ON/OFF切替

                // ====== 状態変数 ======
                bool motorOnA = false;
                bool forwardA = true;
                bool motorOnB = false;
                bool forwardB = true;

                int motorSpeed = 200; // 速度（0〜255）

                void setup() {
                // モーターA
                pinMode(ENA, OUTPUT);
                pinMode(DIRA1, OUTPUT);
                pinMode(DIRB1, OUTPUT);

                // モーターB
                pinMode(ENB, OUTPUT);
                pinMode(DIRA2, OUTPUT);
                pinMode(DIRB2, OUTPUT);

                // ボタン
                pinMode(BTN_DIR_A, INPUT_PULLUP);
                pinMode(BTN_PWR_A, INPUT_PULLUP);
                pinMode(BTN_DIR_B, INPUT_PULLUP);
                pinMode(BTN_PWR_B, INPUT_PULLUP);

                Serial.begin(9600);
                }

                void loop() {
                // ==== モーターA ====
                if (digitalRead(BTN_DIR_A) == LOW) {
                    forwardA = !forwardA;
                    delay(300);
                }
                if (digitalRead(BTN_PWR_A) == LOW) {
                    motorOnA = !motorOnA;
                    delay(300);
                }

                // ==== モーターB ====
                if (digitalRead(BTN_DIR_B) == LOW) {
                    forwardB = !forwardB;
                    delay(300);
                }
                if (digitalRead(BTN_PWR_B) == LOW) {
                    motorOnB = !motorOnB;
                    delay(300);
                }

                // ==== モーターA制御 ====
                if (motorOnA) {
                    if (forwardA) {
                    digitalWrite(DIRA1, HIGH);
                    digitalWrite(DIRB1, LOW);
                    } else {
                    digitalWrite(DIRA1, LOW);
                    digitalWrite(DIRB1, HIGH);
                    }
                    analogWrite(ENA, motorSpeed);
                } else {
                    analogWrite(ENA, 0);
                }

                // ==== モーターB制御 ====
                if (motorOnB) {
                    if (forwardB) {
                    digitalWrite(DIRA2, HIGH);
                    digitalWrite(DIRB2, LOW);
                    } else {
                    digitalWrite(DIRA2, LOW);
                    digitalWrite(DIRB2, HIGH);
                    }
                    analogWrite(ENB, motorSpeed);
                } else {
                    analogWrite(ENB, 0);
                }
                }
            </code></pre>
        </div>
        <button onclick="location.href='index.html'">戻る</button>
    </body>
</html>